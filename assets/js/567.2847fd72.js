(self["webpackChunkchatgpt"]=self["webpackChunkchatgpt"]||[]).push([[567],{185:function(e,t,s){"use strict";s.d(t,{Z:function(){return v}});var i=s(3396),l=s(7139);const a=e=>((0,i.dD)("data-v-598979df"),e=e(),(0,i.Cn)(),e),o={class:"ViewState ViewStateCenter"},n={key:0,class:"ViewStateLoad"},r=a((()=>(0,i._)("div",{class:"loadAnimation"},null,-1))),c={class:"loadText"},d={key:1,class:"errCen"};function u(e,t,s,a,u,g){const p=(0,i.up)("el-empty");return(0,i.wg)(),(0,i.iD)("div",o,["load"===e.Type?((0,i.wg)(),(0,i.iD)("div",n,[r,(0,i._)("div",c,(0,l.zw)(e.LoadText),1)])):"empty"===e.Type||"error"===e.Type?((0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(p,{class:"ViewStateCover",description:"empty"===e.Type?e.EmptyText:e.ErrorText},null,8,["description"]),e.IsShowBottom?((0,i.wg)(),(0,i.iD)("div",{key:0,onClick:t[0]||(t[0]=(...t)=>e.clickTheButton&&e.clickTheButton(...t)),"hover-class":"empty-but-hover","hover-start-time":"0","hover-stay-time":"0",class:"ViewStateBottom"},(0,l.zw)(e.ButtonText),1)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])}var g=(0,i.aZ)({name:"ViewState",props:{Type:{type:String,default:"load"},LoadText:{type:String,default:"加载中..."},EmptyText:{type:String,default:"数据为空"},ErrorText:{type:String,default:"加载错误"},ButtonText:{type:String,default:"重新加载"},ErrorCover:{type:String,default:"@/assets/error.svg"},EmptyCover:{type:String,default:"@/assets/empty.svg"},IsShowBottom:{type:Boolean,default:!1}},setup(e,{emit:t}){function s(){t("ClickTheButton")}return{clickTheButton:s}}}),p=s(89);const m=(0,p.Z)(g,[["render",u],["__scopeId","data-v-598979df"]]);var v=m},8567:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ge}});var i=s(3396),l=s(7139);const a=e=>((0,i.dD)("data-v-2e2e23ca"),e=e(),(0,i.Cn)(),e),o={class:"body"},n={class:"container"},r={key:0,class:"flex-container"},c={class:"box"},d={style:{height:"100%"}},u={style:{height:"90%","overflow-y":"auto"}},g={class:"header"},p={class:"title"},m=a((()=>(0,i._)("span",null,"正向提示词",-1))),v={class:"input"},f={class:"header"},w={class:"title"},h=a((()=>(0,i._)("span",null,"反向提示词(可选)",-1))),y={class:"input"},x={class:"header"},_={class:"title"},b=a((()=>(0,i._)("span",null,"绘画风格",-1))),k={style:{padding:"15px"}},D={class:"header"},S={class:"title"},z=a((()=>(0,i._)("span",null,"参考图(可选)",-1))),T={style:{padding:"15px"}},W=["src"],C={class:"header"},V={class:"title"},M=a((()=>(0,i._)("span",null,"迭代步数",-1))),H={style:{padding:"15px"}},L={class:"header"},B={class:"title"},P=a((()=>(0,i._)("span",null,"采样方法",-1))),E={style:{padding:"15px"}},I={class:"header"},U={class:"title"},j=a((()=>(0,i._)("span",null,"尺寸比例",-1))),N={class:"size-container"},K=["onClick"],Z={class:"size-logo"},F=["src"],Y={class:"size-proportion"},q={class:"size-text"},O={style:{"border-top":"1px solid var(--textColor5)",display:"flex","align-items":"center","justify-content":"space-between",height:"10%",padding:"0 10px","font-weight":"500"}},A=a((()=>(0,i._)("div",{style:{"font-size":"9px"}}," 每次绘图消耗5个SUPER币 ",-1))),R={class:"content"},X={key:0},G=a((()=>(0,i._)("div",{style:{"text-align":"center","padding-bottom":"40px"}},"创作欣赏",-1))),J={style:{"max-width":"480px"}},Q=a((()=>(0,i._)("div",{style:{"text-align":"center","font-size":"13px","margin-top":"20px","font-weight":"500",color:"#888888"}}," 快来生成属于自己的创作吧~ ",-1)));function $(e,t,a,$,ee,te){const se=(0,i.up)("info-filled"),ie=(0,i.up)("el-icon"),le=(0,i.up)("el-popover"),ae=(0,i.up)("el-input"),oe=(0,i.up)("el-option"),ne=(0,i.up)("el-select"),re=(0,i.up)("Plus"),ce=(0,i.up)("el-upload"),de=(0,i.up)("el-button"),ue=(0,i.up)("el-image"),ge=(0,i.up)("el-col"),pe=(0,i.up)("el-row"),me=(0,i.up)("ViewState"),ve=(0,i.up)("LoginDialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",o,[(0,i._)("div",n,[$.isNet?((0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",c,[(0,i._)("div",d,[(0,i._)("div",u,[(0,i._)("div",g,[(0,i._)("div",p,[m,(0,i.Wm)(le,{placement:"bottom",effect:"dark",title:"提示词",width:300,trigger:"hover",content:"用于指定生成图像的文本提示，可以是一个或多个句子 示例: 风景,雨天,树林 "},{reference:(0,i.w5)((()=>[(0,i.Wm)(ie,null,{default:(0,i.w5)((()=>[(0,i.Wm)(se)])),_:1})])),_:1})])]),(0,i._)("div",v,[(0,i.Wm)(ae,{placeholder:"描述你要画的图(英文更加准确)",type:"textarea",rows:"5",modelValue:$.form.prompt,"onUpdate:modelValue":t[0]||(t[0]=e=>$.form.prompt=e)},null,8,["modelValue"])]),(0,i._)("div",f,[(0,i._)("div",w,[h,(0,i.Wm)(le,{placement:"bottom",effect:"dark",title:"过滤",width:300,trigger:"hover",content:"用于指定生成图像时的负面文本提示，可以用于约束生成图像的内容。简单来说就是 你不想本次绘图中出现的内容 例如: 雪,动物 "},{reference:(0,i.w5)((()=>[(0,i.Wm)(ie,null,{default:(0,i.w5)((()=>[(0,i.Wm)(se)])),_:1})])),_:1})])]),(0,i._)("div",y,[(0,i.Wm)(ae,{placeholder:"过滤本次绘图出现的事物(英文更加准确)",type:"textarea",rows:"5",modelValue:$.form.negative_prompt,"onUpdate:modelValue":t[1]||(t[1]=e=>$.form.negative_prompt=e)},null,8,["modelValue"])]),(0,i._)("div",x,[(0,i._)("div",_,[b,(0,i.Wm)(le,{placement:"bottom",effect:"dark",title:"输出模型",width:300,trigger:"hover",content:"用于控制生成图像的数据模型，可以影响图像的内容和样式"},{reference:(0,i.w5)((()=>[(0,i.Wm)(ie,null,{default:(0,i.w5)((()=>[(0,i.Wm)(se)])),_:1})])),_:1})])]),(0,i._)("div",k,[(0,i.Wm)(ne,{modelValue:$.form.modelName,"onUpdate:modelValue":t[2]||(t[2]=e=>$.form.modelName=e),class:"m-2",placeholder:"请选择绘画风格",size:"large",style:{width:"100%"}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)($.modelList,(e=>((0,i.wg)(),(0,i.j4)(oe,{key:e.modelName,label:e.textName,value:e.modelName},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,i._)("div",D,[(0,i._)("div",S,[z,(0,i.Wm)(le,{placement:"bottom",effect:"dark",title:"参考图",width:300,trigger:"hover",content:"生成于参考图相似的图片内容"},{reference:(0,i.w5)((()=>[(0,i.Wm)(ie,null,{default:(0,i.w5)((()=>[(0,i.Wm)(se)])),_:1})])),_:1})])]),(0,i._)("div",T,[(0,i.Wm)(ce,{style:{"background-color":"var(--bgColor2)",width:"100px",height:"100px",display:"flex","justify-content":"center","align-items":"center"},"auto-upload":!1,"on-change":$.onChange,"show-file-list":!1},{default:(0,i.w5)((()=>[$.tempFile?((0,i.wg)(),(0,i.iD)("img",{key:0,src:$.tempFile,style:{width:"100px",height:"100px"}},null,8,W)):((0,i.wg)(),(0,i.j4)(ie,{key:1,class:"avatar-uploader-icon"},{default:(0,i.w5)((()=>[(0,i.Wm)(re)])),_:1}))])),_:1},8,["on-change"])]),(0,i._)("div",C,[(0,i._)("div",V,[M,(0,i.Wm)(le,{placement:"bottom",effect:"dark",title:"绘制次数",width:300,trigger:"hover",content:"生成图像时的最大步骤数，步骤数越多，生成的图像可能会更加详细，但处理时间也会增加。"},{reference:(0,i.w5)((()=>[(0,i.Wm)(ie,null,{default:(0,i.w5)((()=>[(0,i.Wm)(se)])),_:1})])),_:1})])]),(0,i._)("div",H,[(0,i.Wm)(ne,{modelValue:$.form.steps,"onUpdate:modelValue":t[3]||(t[3]=e=>$.form.steps=e),class:"m-2",placeholder:"Select",size:"large",style:{width:"100%"}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)($.stepsList,(e=>((0,i.wg)(),(0,i.j4)(oe,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,i._)("div",L,[(0,i._)("div",B,[P,(0,i.Wm)(le,{placement:"bottom",effect:"dark",title:"采样器",width:300,trigger:"hover",content:"用于控制生成图像的采样器索引，可以影响图像的内容和样式。"},{reference:(0,i.w5)((()=>[(0,i.Wm)(ie,null,{default:(0,i.w5)((()=>[(0,i.Wm)(se)])),_:1})])),_:1})])]),(0,i._)("div",E,[(0,i.Wm)(ne,{modelValue:$.form.sampler_index,"onUpdate:modelValue":t[4]||(t[4]=e=>$.form.sampler_index=e),class:"m-2",placeholder:"Select",size:"large",style:{width:"100%"}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)($.samplerList,(e=>((0,i.wg)(),(0,i.j4)(oe,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,i._)("div",I,[(0,i._)("div",U,[j,(0,i.Wm)(le,{placement:"bottom",effect:"dark",title:"图片比例",width:300,trigger:"hover",content:"生成绘图的宽度和高度比例"},{reference:(0,i.w5)((()=>[(0,i.Wm)(ie,null,{default:(0,i.w5)((()=>[(0,i.Wm)(se)])),_:1})])),_:1})])]),(0,i._)("div",N,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)($.sizeList,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(e.isSelected?"size-model-selected":"size-model"),key:t,onClick:e=>$.onChangeSize(t)},[(0,i._)("div",null,[(0,i._)("div",Z,[(0,i._)("img",{src:s(7173)("./"+e.image),alt:""},null,8,F)]),(0,i._)("div",Y,(0,l.zw)(e.proportion),1),(0,i._)("div",q,(0,l.zw)(e.text),1)])],10,K)))),128))])]),(0,i._)("div",O,[A,(0,i._)("div",null,[(0,i.Wm)(de,{round:"",color:"var(--themeColor2)",onClick:$.onSubmit,loading:1===$.load},{default:(0,i.w5)((()=>[(0,i.Uk)(" 立即生成 ")])),_:1},8,["onClick","loading"])])])])]),(0,i._)("div",R,[0===$.load?((0,i.wg)(),(0,i.iD)("div",X,[G,(0,i._)("div",J,[(0,i.Wm)(pe,{gutter:4},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)($.imageList,((e,t)=>((0,i.wg)(),(0,i.j4)(ge,{key:t,md:8},{default:(0,i.w5)((()=>[(0,i.Wm)(ue,{class:"public-image",src:$.imageUrl+e,fit:"cover","preview-src-list":[$.imageUrl+e]},null,8,["src","preview-src-list"])])),_:2},1024)))),128))])),_:1})]),Q])):(0,i.kq)("",!0),1===$.load?((0,i.wg)(),(0,i.j4)(me,{key:1,LoadText:"正在生成(你可以进行其他操作,请勿刷新浏览器)..."})):(0,i.kq)("",!0),2===$.load?((0,i.wg)(),(0,i.j4)(ue,{key:2,src:$.imageUrl+$.image,style:{width:"500px",height:"350px"},fit:"cover","preview-src-list":[$.imageUrl+$.image]},null,8,["src","preview-src-list"])):(0,i.kq)("",!0),3===$.load?((0,i.wg)(),(0,i.j4)(me,{key:3,onClickTheButton:$.back,Type:"error",ErrorText:"哦豁!绘制失败了 请稍后再试",IsShowBottom:"",ButtonText:"好的"},null,8,["onClickTheButton"])):(0,i.kq)("",!0)])])):((0,i.wg)(),(0,i.j4)(me,{key:1,onClickTheButton:$.sdConnect,Type:"error",ErrorText:"绘图服务貌似未开启",IsShowBottom:"",ButtonText:"重新检查"},null,8,["onClickTheButton"]))])]),(0,i.Wm)(ve,{show:$.loginVisible,onClose:t[5]||(t[5]=e=>$.loginVisible=!1)},null,8,["show"])],64)}var ee=s(4870),te=s(718),se=s(2748),ie=s(7278),le=s(4239),ae=s(4775),oe=s(6666),ne=s(185),re=s(1120),ce={name:"DrawingTextView",computed:{store(){return le.Z}},components:{ViewState:ne.Z,Plus:se.Plus,InfoFilled:se.InfoFilled,LoginDialog:te.Z},setup(){const e=(0,ee.iH)(!1),t=(0,ee.iH)(""),s=(0,ee.iH)([]),l=(0,ee.iH)(""),a=(0,ee.iH)([]),o=(0,ee.iH)([20,40,60,80,100]),n=(0,ee.iH)(["Euler a","Euler","LMS","Heun","DPM2","DPM2 a","DPM++ 2S a","DPM++ 2M","DPM++ SDE","DPM fast","DPM adaptive","LMS Karras","DPM2 Karras","DPM2 a Karras","DPM++ 2S a Karras","DPM++ 2M Karras","DPM++ SDE Karras","DDIM"]),r=(0,ee.iH)(0),c=(0,ee.iH)([{proportion:"1:1",text:"头像",image:"size-1-1.f9b344b9.svg",isSelected:!0,width:512,height:512},{proportion:"1:2",text:"手机壁纸",image:"size-1-2.62c2da58.svg",isSelected:!1,width:1080,height:2160},{proportion:"3:4",text:"文案图",image:"size-3-4.ba364264.svg",isSelected:!1,width:384,height:512},{proportion:"4:3",text:"小红书",image:"size-4-3.a0ec2a1c.svg",isSelected:!1,width:512,height:384},{proportion:"9:16",text:"海报",image:"size-9-16.498b0472.svg",isSelected:!1,width:768,height:1365},{proportion:"16:9",text:"电脑壁纸",image:"size-4-3.a0ec2a1c.svg",isSelected:!1,width:1980,height:1080}]);async function d(){try{ae.kN.service({fullscreen:!0,text:"正在检查SD绘图服务器是否开启...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});let t=await(0,ie.Db)();t?e.value=!0:((0,oe.bM)({title:"错误",message:"绘图服务器暂未开启,请联系站点管理员开启绘图服务",type:"error"}),e.value=!1),ae.kN.service().close()}catch(t){ae.kN.service().close(),(0,oe.bM)({title:"错误",message:t,type:"error"}),re.Z.go(-1)}}function u(e){return console.log(e.raw.type),"image/jpg"!==e.raw.type&&"image/png"!==e.raw.type&&"image/jpeg"!==e.raw.type?((0,oe.bM)({title:"错误",message:"请上传正确的图片",type:"error"}),!1):e.raw.size/1024/1024>2?((0,oe.bM)({title:"错误",message:"图片大小不得超过2MB",type:"error"}),!1):void new Promise(((s,i)=>{const l=new FileReader;l.onload=i=>{t.value=i.target.result,v.value.images=e.raw,console.log(e),s(e)},l.onerror=e=>{i(e)},l.readAsDataURL(e.raw)}))}async function g(){try{a.value=await(0,ie.Uo)()}catch(e){console.log(e)}}async function p(){try{let e=await(0,ie.Yg)();e.length>0&&(s.value=e,v.value.modelName=s.value[0].modelName)}catch(e){console.log(e)}}(0,i.bv)((()=>{l.value="https://img-hh.oss-cn-hangzhou.aliyuncs.com",le.Z.getters.userinfo?(d(),g(),p()):f.value=!0}));const m=(0,ee.iH)(""),v=(0,ee.iH)({modelName:"",images:"",steps:20,sampler_index:"Euler a",width:512,height:512,prompt:"",negative_prompt:""});let f=(0,ee.iH)(!1);function w(e){c.value.forEach(((t,s)=>{t.isSelected=s===e,s===e&&(v.value.height=t.height,v.value.width=t.width)}))}async function h(){if(1===r.value)return;let e=v.value;if(!e.prompt)return void(0,oe.bM)({title:"错误",message:"请设置绘画提示词",type:"error"});const t=new FormData;for(const i in v.value)v.value[i]&&(t.append(i,v.value[i]),console.log(i));t.append("env",0),r.value=1;try{let e=await(0,ie.U3)(t);x(e.drawingId)}catch(s){r.value=0,(0,oe.bM)({title:"错误",message:s,type:"error"})}}const y=(0,ee.iH)(null),x=e=>{y.value=setInterval((async()=>{try{let t=await(0,ie.Lo)(e);if(t){clearInterval(y.value),y.value=null;let t=await(0,ie.TX)(e);t.hasOwnProperty("drawingImage")?m.value=t.drawingImage.generateImage:m.value=t.drawingText.generateImage,r.value=2,(0,oe.bM)({title:"提示",message:"图片绘制成功 请前往绘图查看",type:"success"})}}catch(t){console.log(t),r.value=3,clearInterval(y.value),y.value=null}}),3e3)};function _(){r.value=0}return{sdConnect:d,isNet:e,image:m,back:_,load:r,onSubmit:h,onChange:u,tempFile:t,onChangeSize:w,imageUrl:l,modelList:s,loginVisible:f,form:v,imageList:a,stepsList:o,samplerList:n,sizeList:c}}},de=s(89);const ue=(0,de.Z)(ce,[["render",$],["__scopeId","data-v-2e2e23ca"]]);var ge=ue},7173:function(e,t,s){var i={"./alipay.svg":9400,"./applet.svg":6164,"./audio.svg":1146,"./ball.svg":9249,"./bing.svg":2677,"./blend.svg":9696,"./blend02.svg":3982,"./claude.svg":3563,"./close.svg":5860,"./creation.svg":8392,"./drawing.svg":8441,"./load.svg":3960,"./login-header.png":2006,"./logo02.svg":5880,"./logoHead.svg":6899,"./my.png":2231,"./personality.svg":2298,"./selected.svg":8386,"./selected02.svg":1017,"./selected03.svg":1194,"./selected04.svg":4172,"./selected05.svg":4873,"./selected06.svg":3234,"./size-1-1.f9b344b9.svg":3172,"./size-1-2.62c2da58.svg":5546,"./size-3-4.ba364264.svg":9323,"./size-4-3.a0ec2a1c.svg":1145,"./size-9-16.498b0472.svg":2829,"./sweep.svg":2871,"./task.svg":6013,"./wxAppletCode.jpg":5803,"./wxpay.svg":4049};function l(e){var t=a(e);return s(t)}function a(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}l.keys=function(){return Object.keys(i)},l.resolve=a,e.exports=l,l.id=7173},9400:function(e,t,s){"use strict";e.exports=s.p+"assets/img/alipay.cb5ef6ae.svg"},1146:function(e,t,s){"use strict";e.exports=s.p+"assets/img/audio.081a262e.svg"},9249:function(e,t,s){"use strict";e.exports=s.p+"assets/img/ball.48337431.svg"},2677:function(e,t,s){"use strict";e.exports=s.p+"assets/img/bing.0808f158.svg"},9696:function(e,t,s){"use strict";e.exports=s.p+"assets/img/blend.2a14b46c.svg"},3982:function(e,t,s){"use strict";e.exports=s.p+"assets/img/blend02.6f0ed834.svg"},3563:function(e,t,s){"use strict";e.exports=s.p+"assets/img/claude.b7960395.svg"},5860:function(e,t,s){"use strict";e.exports=s.p+"assets/img/close.5a0f034d.svg"},8392:function(e,t,s){"use strict";e.exports=s.p+"assets/img/creation.d20c3e04.svg"},8441:function(e,t,s){"use strict";e.exports=s.p+"assets/img/drawing.078ca096.svg"},3960:function(e,t,s){"use strict";e.exports=s.p+"assets/img/load.75946994.svg"},5880:function(e,t,s){"use strict";e.exports=s.p+"assets/img/logo02.a683f10f.svg"},2298:function(e,t,s){"use strict";e.exports=s.p+"assets/img/personality.5e7fc800.svg"},8386:function(e,t,s){"use strict";e.exports=s.p+"assets/img/selected.c73db6e6.svg"},1017:function(e,t,s){"use strict";e.exports=s.p+"assets/img/selected02.d4553601.svg"},1194:function(e,t,s){"use strict";e.exports=s.p+"assets/img/selected03.debf6488.svg"},4172:function(e,t,s){"use strict";e.exports=s.p+"assets/img/selected04.f29dcd66.svg"},4873:function(e,t,s){"use strict";e.exports=s.p+"assets/img/selected05.4cf4dcc1.svg"},3234:function(e,t,s){"use strict";e.exports=s.p+"assets/img/selected06.74548a50.svg"},3172:function(e,t,s){"use strict";e.exports=s.p+"assets/img/size-1-1.f9b344b9.fee64599.svg"},5546:function(e,t,s){"use strict";e.exports=s.p+"assets/img/size-1-2.62c2da58.5398caef.svg"},9323:function(e,t,s){"use strict";e.exports=s.p+"assets/img/size-3-4.ba364264.5e86ec36.svg"},1145:function(e,t,s){"use strict";e.exports=s.p+"assets/img/size-4-3.a0ec2a1c.cfc4d1a8.svg"},2829:function(e,t,s){"use strict";e.exports=s.p+"assets/img/size-9-16.498b0472.132e2515.svg"},2871:function(e,t,s){"use strict";e.exports=s.p+"assets/img/sweep.a63f29d6.svg"},6013:function(e,t,s){"use strict";e.exports=s.p+"assets/img/task.3797e239.svg"},4049:function(e,t,s){"use strict";e.exports=s.p+"assets/img/wxpay.2c092a8a.svg"},2006:function(e,t,s){"use strict";e.exports=s.p+"assets/img/login-header.e1f283b2.png"},2231:function(e,t,s){"use strict";e.exports=s.p+"assets/img/my.5065d1f5.png"}}]);