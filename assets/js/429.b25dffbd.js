"use strict";(self["webpackChunkchatgpt"]=self["webpackChunkchatgpt"]||[]).push([[429],{7220:function(e,t,o){function n(e){const t=6e4,o=60*t,n=24*o,i=7*n,a=30*n,l=(new Date).getTime(),r=l-e;if(r<0)return;let s;return s=r<=t?"刚刚":r<=o?Math.floor(r/t)+"分钟前":r<=n?Math.floor(r/o)+"小时前":r<=i?Math.floor(r/n)+"天前":r<=a?Math.floor(r/i)+"周前":r<=12*a?Math.floor(r/a)+"月前":Math.floor(r/(12*a))+"年前",s}o.d(t,{Z:function(){return n}})},185:function(e,t,o){o.d(t,{Z:function(){return y}});var n=o(3396),i=o(7139);const a=e=>((0,n.dD)("data-v-598979df"),e=e(),(0,n.Cn)(),e),l={class:"ViewState ViewStateCenter"},r={key:0,class:"ViewStateLoad"},s=a((()=>(0,n._)("div",{class:"loadAnimation"},null,-1))),c={class:"loadText"},u={key:1,class:"errCen"};function d(e,t,o,a,d,p){const v=(0,n.up)("el-empty");return(0,n.wg)(),(0,n.iD)("div",l,["load"===e.Type?((0,n.wg)(),(0,n.iD)("div",r,[s,(0,n._)("div",c,(0,i.zw)(e.LoadText),1)])):"empty"===e.Type||"error"===e.Type?((0,n.wg)(),(0,n.iD)("div",u,[(0,n.Wm)(v,{class:"ViewStateCover",description:"empty"===e.Type?e.EmptyText:e.ErrorText},null,8,["description"]),e.IsShowBottom?((0,n.wg)(),(0,n.iD)("div",{key:0,onClick:t[0]||(t[0]=(...t)=>e.clickTheButton&&e.clickTheButton(...t)),"hover-class":"empty-but-hover","hover-start-time":"0","hover-stay-time":"0",class:"ViewStateBottom"},(0,i.zw)(e.ButtonText),1)):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])}var p=(0,n.aZ)({name:"ViewState",props:{Type:{type:String,default:"load"},LoadText:{type:String,default:"加载中..."},EmptyText:{type:String,default:"数据为空"},ErrorText:{type:String,default:"加载错误"},ButtonText:{type:String,default:"重新加载"},ErrorCover:{type:String,default:"@/assets/error.svg"},EmptyCover:{type:String,default:"@/assets/empty.svg"},IsShowBottom:{type:Boolean,default:!1}},setup(e,{emit:t}){function o(){t("ClickTheButton")}return{clickTheButton:o}}}),v=o(89);const m=(0,v.Z)(p,[["render",d],["__scopeId","data-v-598979df"]]);var y=m},7429:function(e,t,o){o.r(t),o.d(t,{default:function(){return V}});var n=o(3396),i=o(7139);const a=e=>((0,n.dD)("data-v-5730937d"),e=e(),(0,n.Cn)(),e),l={key:4,class:"body"},r={class:"name"},s={class:"time"},c={key:0,class:"operation"},u=["onClick"],d=a((()=>(0,n._)("div",{class:"operationExplain"},"查看",-1))),p=["onClick"],v=a((()=>(0,n._)("div",{class:"operationExplain"},"取消收藏",-1))),m={class:"title"},y={class:"desc"};function w(e,t,o,a,w,g){const f=(0,n.up)("ViewState"),h=(0,n.up)("Promotion"),T=(0,n.up)("el-icon"),C=(0,n.up)("Star"),k=(0,n.up)("el-scrollbar"),S=(0,n.up)("v-md-editor"),x=(0,n.up)("LoginDialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[g.store.getters.userinfo?a.load?((0,n.wg)(),(0,n.j4)(f,{key:1,LoadText:"正在加载，请稍后..."})):a.empty?((0,n.wg)(),(0,n.j4)(f,{key:2,Type:"empty",ErrorText:"暂无收藏的数据"})):a.error?((0,n.wg)(),(0,n.j4)(f,{key:3,onClickTheButton:a.init,Type:"error",ErrorText:"加载错误，请重试",IsShowBottom:"",ButtonText:"重新加载"},null,8,["onClickTheButton"])):((0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",{class:(0,i.C_)([-1!==a.seeIndex?"containerOpen":"","container"])},[(0,n.Wm)(k,{height:"100%",class:"leftContent"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.list,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"item"},[(0,n._)("div",r,(0,i.zw)(e.issue),1),(0,n._)("div",s,"收藏于"+(0,i.zw)(g.conversionTime(e.createdTime)),1),e.isError?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",{onClick:e=>a.seeIndex=t,class:"operationItem operationItemSelected"},[(0,n.Wm)(T,{size:"14"},{default:(0,n.w5)((()=>[(0,n.Wm)(h)])),_:1}),d],8,u),(0,n._)("div",{onClick:o=>a.cancelCollection(e.starId,t),class:(0,i.C_)(["operationItem",e.isCollection?"operationItemSelected":""])},[(0,n.Wm)(T,{size:"14"},{default:(0,n.w5)((()=>[(0,n.Wm)(C)])),_:1}),v],10,p)]))])))),128))])),_:1}),-1!==a.seeIndex?((0,n.wg)(),(0,n.j4)(k,{key:0,height:"100%",class:"rightContent"},{default:(0,n.w5)((()=>[(0,n._)("div",m,(0,i.zw)(a.list[a.seeIndex].issue),1),(0,n._)("div",y,[(0,n.Wm)(S,{"model-value":a.list[a.seeIndex].answer,mode:"preview",onCopyCodeSuccess:a.handleCopyCodeSuccess},null,8,["model-value","onCopyCodeSuccess"])])])),_:1})):(0,n.kq)("",!0)],2)])):((0,n.wg)(),(0,n.j4)(f,{key:0,Type:"error",ErrorText:"登录查看收藏",IsShowBottom:"",ButtonText:"登录",onClickTheButton:t[0]||(t[0]=e=>a.loginVisible=!0)})),(0,n.Wm)(x,{show:a.loginVisible,onClose:t[1]||(t[1]=e=>a.loginVisible=!1),onLoginSucceeded:a.init},null,8,["show","onLoginSucceeded"])],64)}var g=o(185),f=o(4870),h=o(7278),T=o(2748),C=o(6e3),k=o(6666),S=o(718),x=o(4239),_=o(7220),B={name:"CollectionView",methods:{conversionTime:_.Z},computed:{store(){return x.Z}},components:{LoginDialog:S.Z,Star:T.Star,Promotion:T.Promotion,ViewState:g.Z},setup(){let e=(0,f.iH)(!1),t=(0,f.iH)(!1),o=(0,f.iH)(!1),i=(0,f.iH)([]),a=(0,f.iH)(-1),l=(0,f.iH)(!1);async function r(){try{e.value=!0;let n=await(0,h.Wv)();n.length?i.value=n:t.value=!0,e.value=!1,o.value=!1}catch(n){e.value=!1,o.value=!0}}async function s(e,t){try{await(0,C.T)({title:"提示",message:"取消收藏后数据将不可找回，是否确认取消该收藏",confirmButtonText:"取消收藏",cancelButtonText:"再想想",showCancelButton:!0,type:"warning"}),await(0,h.IZ)(e),i.value.splice(t,1),a.value===t&&(a.value=-1)}catch(o){console.log("取消收藏")}}function c(e){navigator.clipboard.writeText(e),(0,k.bM)({message:"复制成功",type:"success"})}return(0,n.bv)((()=>{x.Z.getters.userinfo&&r()})),{load:e,empty:t,error:o,init:r,list:i,cancelCollection:s,seeIndex:a,handleCopyCodeSuccess:c,loginVisible:l}}},I=o(89);const D=(0,I.Z)(B,[["render",w],["__scopeId","data-v-5730937d"]]);var V=D}}]);