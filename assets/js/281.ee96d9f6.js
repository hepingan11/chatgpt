"use strict";(self["webpackChunkchatgpt"]=self["webpackChunkchatgpt"]||[]).push([[281],{185:function(e,t,a){a.d(t,{Z:function(){return m}});var o=a(3396),s=a(7139);const i=e=>((0,o.dD)("data-v-598979df"),e=e(),(0,o.Cn)(),e),l={class:"ViewState ViewStateCenter"},c={key:0,class:"ViewStateLoad"},r=i((()=>(0,o._)("div",{class:"loadAnimation"},null,-1))),n={class:"loadText"},d={key:1,class:"errCen"};function u(e,t,a,i,u,p){const v=(0,o.up)("el-empty");return(0,o.wg)(),(0,o.iD)("div",l,["load"===e.Type?((0,o.wg)(),(0,o.iD)("div",c,[r,(0,o._)("div",n,(0,s.zw)(e.LoadText),1)])):"empty"===e.Type||"error"===e.Type?((0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(v,{class:"ViewStateCover",description:"empty"===e.Type?e.EmptyText:e.ErrorText},null,8,["description"]),e.IsShowBottom?((0,o.wg)(),(0,o.iD)("div",{key:0,onClick:t[0]||(t[0]=(...t)=>e.clickTheButton&&e.clickTheButton(...t)),"hover-class":"empty-but-hover","hover-start-time":"0","hover-stay-time":"0",class:"ViewStateBottom"},(0,s.zw)(e.ButtonText),1)):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])}var p=(0,o.aZ)({name:"ViewState",props:{Type:{type:String,default:"load"},LoadText:{type:String,default:"加载中..."},EmptyText:{type:String,default:"数据为空"},ErrorText:{type:String,default:"加载错误"},ButtonText:{type:String,default:"重新加载"},ErrorCover:{type:String,default:"@/assets/error.svg"},EmptyCover:{type:String,default:"@/assets/empty.svg"},IsShowBottom:{type:Boolean,default:!1}},setup(e,{emit:t}){function a(){t("ClickTheButton")}return{clickTheButton:a}}}),v=a(89);const y=(0,v.Z)(p,[["render",u],["__scopeId","data-v-598979df"]]);var m=y},6281:function(e,t,a){a.r(t),a.d(t,{default:function(){return ne}});var o=a(3396),s=a(7139),i=a(9400);const l=e=>((0,o.dD)("data-v-485d3e45"),e=e(),(0,o.Cn)(),e),c={class:"panel-container"},r={key:0,class:"body"},n={key:0,class:"article"},d={key:1,class:"introduce"},u={key:6,class:"wrapper"},p=["onClick"],v={class:"wrapper-title"},y={class:"quantity"},m={class:"quantity",style:{"font-size":"15px","padding-top":"10px"}},w={class:"card-introduce"},h={style:{"padding-left":"10px",color:"#a7a7a7"}},g=l((()=>(0,o._)("div",{class:"pay-title"}," 选择支付方式后点击“跳转至收银台”打开支付页面支付 ",-1))),f={style:{"text-align":"center"}},_=l((()=>(0,o._)("div",{class:"pay"},[(0,o._)("img",{class:"alipay-img",alt:"支付宝支付",src:i}),(0,o._)("div",null,"支付宝支付")],-1)));function k(e,t,a,i,l,k){const C=(0,o.up)("ViewState"),b=(0,o.up)("CircleCheckFilled"),T=(0,o.up)("el-icon"),x=(0,o.up)("el-col"),S=(0,o.up)("el-row"),V=(0,o.up)("el-radio"),D=(0,o.up)("el-button"),B=(0,o.up)("el-dialog"),q=(0,o.up)("LoginDialog"),z=(0,o.up)("cash-register");return(0,o.wg)(),(0,o.iD)("div",c,[i.mainPageVisible?((0,o.wg)(),(0,o.iD)("div",r,[k.store.getters.userinfo?((0,o.wg)(),(0,o.iD)("div",n,"我要赞助站点运行")):(0,o.kq)("",!0),k.store.getters.userinfo?((0,o.wg)(),(0,o.iD)("div",d," 赞赏作者也可获得相应Ai币 ")):(0,o.kq)("",!0),k.store.getters.userinfo?i.load?((0,o.wg)(),(0,o.j4)(C,{key:3,class:"state",LoadText:"正在加载，请稍后..."})):i.empty?((0,o.wg)(),(0,o.j4)(C,{key:4,class:"state",Type:"empty",ErrorText:"暂无任何数据"})):i.error?((0,o.wg)(),(0,o.j4)(C,{key:5,class:"state",onClickTheButton:i.init,Type:"error",ErrorText:"加载错误，请重试",IsShowBottom:"",ButtonText:"重新加载"},null,8,["onClickTheButton"])):((0,o.wg)(),(0,o.iD)("div",u,[(0,o.Wm)(S,{gutter:20},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.productList,((e,t)=>((0,o.wg)(),(0,o.j4)(x,{key:t,xs:24,sm:12,md:8},{default:(0,o.w5)((()=>[(0,o._)("div",{class:"item",onClick:t=>i.payChoose(e.productId,e.frequency)},[(0,o._)("div",v,(0,s.zw)(e.productName),1),(0,o._)("div",y,(0,s.zw)(e.frequency)+" Ai币",1),(0,o._)("div",m," ￥"+(0,s.zw)(e.productPrice),1),(0,o._)("div",w,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.introduce,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"function-box",key:t},[(0,o.Wm)(T,{color:"var(--themeColor1)",size:"20px"},{default:(0,o.w5)((()=>[(0,o.Wm)(b)])),_:1}),(0,o._)("div",h,[(0,o._)("div",null,(0,s.zw)(e),1)])])))),128))])],8,p)])),_:2},1024)))),128))])),_:1})])):((0,o.wg)(),(0,o.j4)(C,{key:2,class:"state",Type:"error",ErrorText:"登录后查看",IsShowBottom:"",ButtonText:"登录",onClickTheButton:t[0]||(t[0]=e=>i.loginVisible=!0)})),i.productFrequency?((0,o.wg)(),(0,o.j4)(B,{key:7,modelValue:i.payVisible,"onUpdate:modelValue":t[3]||(t[3]=e=>i.payVisible=e),width:"340px",style:{"background-color":"var(--bgColor1)"}},{footer:(0,o.w5)((()=>[(0,o._)("span",null,[(0,o.Wm)(D,{class:"buttonTheme",onClick:t[2]||(t[2]=e=>i.payVisible=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)("不了, 谢谢")])),_:1}),(0,o.Wm)(D,{class:"buttonTheme themeColor",onClick:i.alipayPay},{default:(0,o.w5)((()=>[(0,o.Uk)("跳转至收银台")])),_:1},8,["onClick"])])])),default:(0,o.w5)((()=>[g,(0,o._)("div",f,[(0,o.Wm)(V,{label:"0",modelValue:i.payType,"onUpdate:modelValue":t[1]||(t[1]=e=>i.payType=e)},{default:(0,o.w5)((()=>[_])),_:1},8,["modelValue"])])])),_:1},8,["modelValue"])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),(0,o.Wm)(q,{show:i.loginVisible,onClose:t[4]||(t[4]=e=>i.loginVisible=!1),onLoginSucceeded:i.init},null,8,["show","onLoginSucceeded"]),i.mainPageVisible?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(z,{key:1,outcome:i.outcome,showCover:i.showCover,showSucceed:i.showSucceed},null,8,["outcome","showCover","showSucceed"]))])}var C=a(4870),b=a(7278),T=a(6666),x=a(4775),S=(a(7658),a(9242)),V=a(2871);const D=e=>((0,o.dD)("data-v-270f1fdd"),e=e(),(0,o.Cn)(),e),B={class:"fade-div fade-in"},q=D((()=>(0,o._)("div",{class:"cash-container cash-title"},[(0,o._)("div",{class:"cash-title-introduce"},[(0,o._)("img",{class:"cash-title-img",alt:"支付宝支付",src:i}),(0,o._)("span",{class:"cash-title-text"},"支付宝收银台")])],-1))),z={class:"cash-container cash-order"},H={class:"cash-info"},I={class:"cash-code-container"},F={class:"cash-qc-img-container"},L=["src"],W={class:"cover-div"},j=D((()=>(0,o._)("div",{class:"cash-pay-prompt"},[(0,o._)("div",null,[(0,o._)("img",{src:V,alt:"",style:{width:"20px"}})]),(0,o._)("div",{class:"cash-pay-text"},"打开手机支付宝扫一扫完成付款")],-1))),E={class:"cash-order-data"},P={class:"cash-o-data"},Z={class:"cash-o-data"},U={class:"cash-o-data"},O={class:"cash-amount"},A=D((()=>(0,o._)("div",{class:"cash-o-prompt"},"需付款   ",-1))),M={class:"cash-o-amount"},N={class:"pay-succeed"},K=D((()=>(0,o._)("div",{class:"pay-succeed-title"},"谢谢你的赞赏!",-1))),R={style:{"padding-bottom":"190px"}},Y={class:"cash-o-data pay-succeed-no"},G=D((()=>(0,o._)("div",{style:{"font-size":"12px",color:"#b0b0b0"}}," 对订单有疑问 可在微信小程序端中联系小程序客服 ",-1)));function J(e,t,a,i,l,c){const r=(0,o.up)("CircleCheckFilled"),n=(0,o.up)("el-icon"),d=(0,o.up)("el-button");return(0,o.wg)(),(0,o.iD)("div",B,[q,(0,o._)("div",z,[(0,o._)("div",H,[(0,o.wy)((0,o._)("div",I,[(0,o._)("div",null,[(0,o._)("div",null,[(0,o._)("div",F,[(0,o._)("img",{class:"cash-qc-img",alt:"支付宝扫一扫",src:a.outcome.qrCode},null,8,L),(0,o.wy)((0,o._)("div",W,"二维码已经失效",512),[[S.F8,a.showCover]])])]),j]),(0,o._)("div",E,[(0,o._)("div",P," 商品名称 :  "+(0,s.zw)(a.outcome.productName),1),(0,o._)("div",Z," 商户订单号 :  "+(0,s.zw)(a.outcome.ordersId),1),(0,o._)("div",U," 创建时间 :  "+(0,s.zw)(a.outcome.createdTime),1),(0,o._)("div",O,[A,(0,o._)("div",M,"￥"+(0,s.zw)(a.outcome.productPrice)+" 元",1)])])],512),[[S.F8,!a.showSucceed]]),(0,o.wy)((0,o._)("div",N,[(0,o._)("div",null,[(0,o.Wm)(n,{color:"var(--themeColor1)",size:"50px"},{default:(0,o.w5)((()=>[(0,o.Wm)(r)])),_:1})]),K],512),[[S.F8,a.showSucceed]]),(0,o.wy)((0,o._)("div",R,[(0,o._)("div",Y," 商户订单号 :  "+(0,s.zw)(a.outcome.ordersId),1),(0,o.Wm)(d,{size:"large",round:"",onClick:t[0]||(t[0]=e=>c.router().push({path:"/Orders"})),color:"rgb(125,128,255)",style:{color:"white"}},{default:(0,o.w5)((()=>[(0,o.Uk)("查看我的赞赏记录")])),_:1})],512),[[S.F8,a.showSucceed]]),G])])])}var Q=a(2748),X=a(1120),$={name:"PurchaseView",methods:{router(){return X.Z}},props:{outcome:Object,showCover:Object,showSucceed:Object},components:{CircleCheckFilled:Q.CircleCheckFilled},setup(){}},ee=a(89);const te=(0,ee.Z)($,[["render",J],["__scopeId","data-v-270f1fdd"]]);var ae=te,oe=a(65),se=a(185),ie=a(718),le=a(4239),ce={name:"PurchaseView",computed:{store(){return le.Z}},components:{LoginDialog:ie.Z,ViewState:se.Z,CircleCheckFilled:Q.CircleCheckFilled,CashRegister:ae},methods:{router(){return X.Z}},setup(){let e=(0,C.iH)(!1),t=(0,oe.oR)();const a=(0,C.iH)(["双端次数同步","全功能使用","(小程序)绘画自动保存"]),s=(0,C.iH)(!1),i=(0,C.iH)([]),l=(0,C.iH)("0"),c=(0,C.iH)(""),r=(0,C.iH)({}),n=(0,C.iH)(!0),d=(0,C.iH)(!1),u=(0,C.iH)(!1);let p=(0,C.iH)(!1),v=(0,C.iH)(!1),y=(0,C.iH)(!1);const m=(0,C.iH)({});async function w(){try{p.value=!0;const e=await(0,b.xo)();e.length?i.value=e:v.value=!0,p.value=!1,y.value=!1}catch(e){p.value=!1,y.value=!0}}async function h(){try{let e=await(0,b.CC)();t.commit("setUserinfo",e)}catch(e){(0,T.bM)({title:"出现错误",message:e,type:"error"})}}async function g(e,t){r.value=e,c.value=t,s.value=!0}async function f(){try{x.kN.service({fullscreen:!0,text:"正在构建订单...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),m.value=await(0,b.bG)(r.value),s.value=!1,n.value=!1;let e=setInterval((async function(){let t=await(0,b.os)(m.value.ordersId);"PAID"===t?((0,T.bM)({title:"成功",message:"赞赏成功，可在我的赞赏中查看该赞赏记录",type:"success"}),u.value=!0,await h(),clearInterval(e)):"IS_CLOSED"===t&&(d.value=!0,(0,T.bM)({title:"订单已关闭",message:"长时间未支付，订单已关闭",type:"error"}),clearInterval(e))}),5e3)}catch(e){(0,T.bM)({title:"错误",message:e,type:"error"}),n.value=!0}finally{x.kN.service().close()}}return(0,o.bv)((()=>{t.getters.userinfo&&w()})),{load:p,error:y,empty:v,showSucceed:u,showCover:d,outcome:m,mainPageVisible:n,alipayPay:f,payChoose:g,init:w,introduce:a,productList:i,payVisible:s,payType:l,loginVisible:e,productFrequency:c}}};const re=(0,ee.Z)(ce,[["render",k],["__scopeId","data-v-485d3e45"]]);var ne=re},9400:function(e,t,a){e.exports=a.p+"assets/img/alipay.cb5ef6ae.svg"},2871:function(e,t,a){e.exports=a.p+"assets/img/sweep.a63f29d6.svg"}}]);